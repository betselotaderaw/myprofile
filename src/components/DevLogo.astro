---
import type { Skills } from '../types';

export const devIcons: { title: Skills, filePath: string }[] = [
  { "title": "JavaScript", "filePath": "/images/dev-logos/javascript.svg" },
  { "title": "React", "filePath": "/images/dev-logos/react.svg" },
  { "title": "Next.js", "filePath": "/images/dev-logos/nextjs.png" },
  { "title": "Node.js", "filePath": "/images/dev-logos/nodejs.svg" },
  { "title": "HTML", "filePath": "/images/dev-logos/html.svg" },
  { "title": "CSS", "filePath": "/images/dev-logos/css.svg" },
  { "title": "Sass", "filePath": "/images/dev-logos/sass.svg" },
  { "title": "Tailwind CSS", "filePath": "/images/dev-logos/tailwind.svg" },
  { "title": "Python", "filePath": "/images/dev-logos/python.svg" },
  { "title": "MongoDB", "filePath": "/images/dev-logos/mongodb.svg" },
  { "title": "PostgreSQL", "filePath": "/images/dev-logos/postgresql.svg" },
  { "title": "MySQL", "filePath": "/images/dev-logos/mysql.svg" },
  { "title": "Selenium", "filePath": "/images/dev-logos/selenium.svg" },
  { "title": "Mocha", "filePath": "/images/dev-logos/mocha.svg" },
  { "title": "Linux", "filePath": "/images/dev-logos/linux.svg" },
  { "title": "Docker", "filePath": "/images/dev-logos/docker.svg" },
  { "title": "AWS", "filePath": "/images/dev-logos/aws.svg" },
  { "title": "Git", "filePath": "/images/dev-logos/git.svg" },
  { "title": "Figma", "filePath": "/images/dev-logos/figma.svg" },
  { "title": "Java", "filePath": "/images/dev-logos/java.png" },
  { "title": "Spring Boot", "filePath": "/images/dev-logos/springboot.png" },
  { "title": "JHipster", "filePath": "/images/dev-logos/jhipster.png" },
  { "title": "MS SQL", "filePath": "/images/dev-logos/mssql.png" },
  { "title": "Firebase", "filePath": "/images/dev-logos/firebase.png" },
  { "title": "Pocketbase", "filePath": "/images/dev-logos/pocketbase.png" },
  { "title": "LLaMA", "filePath": "/images/dev-logos/ollama.png" },
  { "title": "Neo4j", "filePath": "/images/dev-logos/neo4j.png" },
  { "title": "Langchain", "filePath": "/images/dev-logos/langchain.png" },
  { "title": "Huggingface", "filePath": "/images/dev-logos/huggingface.png" },
];

interface Props {
  icon: Skills;
  size?: number;
}

const { icon, size = 60 } = Astro.props;

const logo = devIcons.find(devIcon => devIcon.title === icon);

// Use a placeholder if the icon is not found or is empty
const placeholder = devIcons.find(devIcon => devIcon.title === "JavaScript");

---

<img
  class="devicon"
  src={(logo && logo.filePath) || placeholder.filePath}
  alt={(logo && logo.title) || placeholder.title}
  title={(logo && logo.title) || placeholder.title}
  width={size + "px"}
  height={size + "px"}
/>

<script>
  import tippy, { createSingleton } from 'tippy.js';

  const tippyInstances = tippy(".devicon", {
    content: (reference: any) => reference.getAttribute("title"),
  });

  const singleton = createSingleton(tippyInstances, {
    moveTransition: 'transform 0.2s ease-out',
  });

  singleton.enable();
</script>